<h3>New Campaign</h3>
<hr>

<small>Select from a list of saved Queries</small>

<!-- <form >
  <select class="form-control" ng-model="newCampaign_from_query" ng-change="setBillGroup()">
    <option selected="selected">
      Select a Saved Query
    </option>
    <option>Alabama 25 Year Old Eskimos</option>
    <option>Charles Xavier School of Gifted Intellectuals</option>
    <option>Fortune 500 Top Ten Bikinis</option>
    <option>How The Alamo Became a Tourist</option>
    <option>16 Children and their Favorite Nurses</option>
  </select>
</form> -->

 <span  class="nullable">
    <select class="form-control"
    ng-model="selectedQuery" ng-options="c.Name for c in savedQueries" ng-change="setBillGroup()">
      <option value="">-- choose query --</option>
    </select>
  </span><br/>


  <div ng-show="fetched">
  <h3>Campaign</h3>
  {{savedQueryData}}<br>

<form class="form-horizontal" role="form">
  <div class="form-group">
    <label class="col-sm-2 control-label">Campaign Name</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="inputEmail3" placeholder="Placeholder" ng-model='campaignDetails.Name'>
    </div>
  </div>
  <!-- <div class="form-group">
    <label for="inputPassword3" class="col-sm-2 control-label">Campaign Date</label>
    <div class="col-sm-10">
      <input type="email" class="form-control" id="inputPassword3" placeholder="Date Picker?">
    </div>
  </div> -->
  <div class="form-group">
    <label class="control-label col-sm-2"><i class="fa fa-calendar"></i>
      <i class="fa fa-arrows-h"></i>
      <i class="fa fa-calendar"></i> Date
    </label>
    <div class="form-group col-sm-2">
      <input type="text" class="form-control" ng-model="fromDate" data-max-date="{{untilDate}}" placeholder="From" bs-datepicker>
    </div>
    <div class="form-group col-sm-2">
      <input type="text" class="form-control" ng-model="untilDate" data-min-date="{{fromDate}}" placeholder="Until" bs-datepicker>
    </div>
  </div>

  <!-- END DATEPICKER -->


  <div class="form-group">
    <label for="inputPassword4" class="col-sm-2 control-label">Campaign Demographics</label>
    <div class="col-sm-10">
      <input type="email" class="form-control" id="inputPassword4" placeholder="Text String">
    </div>
  </div>
</form>

<br>

  <button ng-click="convert()">Convert to Campaign</button>

  <div ng-show='campaignConverted'

<hr>

  <center>
    <h4>Campaign ID {{campaignID}}</h4>
    <hr>
  </center>

  <h4>Add New Activities</h4>
<form class="form-horizontal" role="form">
  <div class="form-group">
    <label for="inputEmail3" class="col-sm-2 control-label">ActivityType</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" placeholder="Email" ng-model="newActivity.ActivityType">
    </div>
  </div>
  <div class="form-group">
    <label for="inputPassword3" class="col-sm-2 control-label">Name</label>
    <div class="col-sm-10">
      <input type="text" class="form-control"  placeholder="Password" ng-model="newActivity.Name">
    </div>
  </div>
  <div class="form-group">
    <label for="inputPassword3" class="col-sm-2 control-label">Descr</label>
    <div class="col-sm-10">
      <input type="text" class="form-control"  placeholder="Password" ng-model="newActivity.Descr">
    </div>
  </div>
  <div class="form-group">
    <label for="inputPassword3" class="col-sm-2 control-label">User</label>
    <div class="col-sm-10">
      <input type="text" class="form-control"  ng-model="selectedUser"
              ng-options="state.Name for state in userList" placeholder="Enter user" bs-typeahead>
    </div>
  </div>
  <!-- <div class="form-group">
    <label for="inputPassword3" class="col-sm-2 control-label">Start</label>
    <div class="col-sm-10">
      <input type="text" class="form-control"  placeholder="Password" ng-model="newActivity.StartDateTime">
    </div>
  </div> -->
  <!-- <div class="form-group">
    <label for="inputPassword3" class="col-sm-2 control-label">Complete</label>
    <div class="col-sm-10">
      <input type="text" class="form-control"  placeholder="Password" ng-model="newActivity.CompletionDateTime">
    </div>
  </div> -->
  <div class="form-group">
    <label class="control-label col-sm-2"><i class="fa fa-calendar"></i>
      <i class="fa fa-arrows-h"></i>
      <i class="fa fa-calendar"></i> Duration
    </label>
    <div class="form-group col-sm-4">
      <input type="text" class="form-control" ng-model="fromDate" data-max-date="{{untilDate}}" placeholder="From" bs-datepicker>
    </div>
    <div class="form-group col-sm-4">
      <input type="text" class="form-control" ng-model="untilDate" data-min-date="{{fromDate}}" placeholder="Until" bs-datepicker>
    </div>
  </div>



</form>
<button ng-click="saveActivity()">Save Activity</button>
<br>

<h4>Activites: {{activityNo}}</h4>
<ul class="example-animate-container">
    <li class="animate-repeat" ng-repeat="friend in savedActivites">
      [{{$index + 1}}] Type: {{friend.Name}} -- Type: {{friend.ActivityType}} -- Assigned: {{friend.AssignedID}}
    </li>
</ul>

<br>
<hr>

<label>Prospects:</label> <a href="">Export Prospects to Excel</a>


 <!-- TABLE -->

 <table at-table at-list="campaignDetails.rows" at-paginated at-config="tableConfig" class="table table-striped table-condensed" id="queryTable">
 <thead></thead>
 <tbody>
   <tr  ng-class="{isActive: !this.item.Status}" ng-click="DeleteProspect(this.item.ProspectID)">
     <!-- TODO fn DeleteProspect only works for new queries, not selecting saved ones -->
     <td at-implicit at-attribute="Name" class="fixedWidthTD"></td>
     <td at-implicit at-attribute="Addr1" at-sortable at-initial-sorting="desc"></td>
     <td at-implicit at-attribute="State"></td>
     <td at-implicit at-attribute="Zip"></td>
     <td at-implicit at-attribute="Status"></td>
     <td at-implicit at-attribute="balance"></td>
   </tr>
 </tbody>
</table>

<at-pagination at-list="campaignDetails.rows" at-config="tableConfig"></at-pagination>

<!-- END TABLE -->



  <button class='button' ng-click="changeState()">Create Campaign Template</button>
  </div>
