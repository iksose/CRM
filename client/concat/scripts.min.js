var $__scripts__=function(){"use strict";function e(e){return new Promise(function(t){setTimeout(t,e)})}function t(e){var t,a,r;return $traceurRuntime.generatorWrap(function(n){for(;;)switch(n.state){case 0:t=Object.keys(e)[$traceurRuntime.toProperty(Symbol.iterator)](),n.state=14;break;case 14:n.state=(a=t.next()).done?-2:9;break;case 9:n.pushTry(7,null),n.state=10;break;case 10:throw void 0;case 12:n.popTry(),n.state=14;break;case 7:n.popTry(),r=n.storedException,n.state=5;break;case 5:r=a.value,n.state=6;break;case 6:return n.state=2,[r,e[$traceurRuntime.toProperty(r)]];case 2:n.maybeThrow(),n.state=14;break;default:return n.end()}},this)}function a(e){var t,a,r;return $traceurRuntime.generatorWrap(function(n){for(;;)switch(n.state){case 0:t=Object.keys(e)[$traceurRuntime.toProperty(Symbol.iterator)](),n.state=14;break;case 14:n.state=(a=t.next()).done?-2:9;break;case 9:n.pushTry(7,null),n.state=10;break;case 10:throw void 0;case 12:n.popTry(),n.state=14;break;case 7:n.popTry(),r=n.storedException,n.state=5;break;case 5:r=a.value,n.state=6;break;case 6:return n.state=2,r;case 2:n.maybeThrow(),n.state=14;break;default:return n.end()}},this)}function r(e){var t,a,r;return $traceurRuntime.generatorWrap(function(n){for(;;)switch(n.state){case 0:t=Object.keys(e)[$traceurRuntime.toProperty(Symbol.iterator)](),n.state=14;break;case 14:n.state=(a=t.next()).done?-2:9;break;case 9:n.pushTry(7,null),n.state=10;break;case 10:throw void 0;case 12:n.popTry(),n.state=14;break;case 7:n.popTry(),r=n.storedException,n.state=5;break;case 5:r=a.value,n.state=6;break;case 6:return n.state=2,e[$traceurRuntime.toProperty(r)];case 2:n.maybeThrow(),n.state=14;break;default:return n.end()}},this)}var n=(angular.module("uiRouterSample",["ui.router","ngAnimate","ngResource","ngCookies","mgcrea.ngStrap","ngSanitize","chieffancypants.loadingBar","angular-table","ngTagsInput"]).run(["$rootScope","$state","$stateParams","$cookies","$http",function(e,t,a,r,n){$traceurRuntime.setProperty(n.defaults.headers.common,"XKey",r.xkey),n.defaults.headers.put={"Content-Type":"application/x-www-form-urlencoded"},n.defaults.headers.post={"Content-Type":"application/x-www-form-urlencoded"},e.$state=t,e.$stateParams=a,e.loggedIn=!0,e.credentials={group:"Undefined",username:r.userid};var o=n({method:"GET",url:"http://10.1.1.118:8000/api/Research?State=MO&Product=123&Order=ProspectID",headers:{Accept:"application/json",XKey:r.xkey}});o.success(function(){}),o.catch(function(){})}]).config(["$stateProvider","$urlRouterProvider","$httpProvider",function(e,t,a){var r=["$location","$q","$injector",function(e,t,a){function r(e){return e}function n(e){return 401===e.status?(console.log("Interceptor 401"),a.get("$state").transitionTo("login"),t.reject(e)):(console.log("Interceptor error...we should write these to a DB",e.statusText),t.reject(e))}return function(e){return e.then(r,n)}}];a.responseInterceptors.push(r),t.when("/c?id","/contacts/:id").when("/user/:id","/contacts/:id").otherwise("/"),e.state("login",{url:"/login",controller:"loginController",templateUrl:"views/Login.html"}).state("home",{url:"/",views:{"":{templateUrl:"views/notsure.html",controller:"landingController"},"content@home":{templateUrl:"views/landing.html"}}}).state("home.about",{url:"about",views:{content:{template:"<br><br>This is about"}}}).state("home.query",{url:"query/new/?State&Age&Product&Distance",reloadOnSearch:!1,views:{content:{templateUrl:"views/newQuery.html",controller:"queryController"}}}).state("home.campaign",{url:"Campaigns",views:{content:{templateUrl:"views/campaigns.html",controller:"campaignController"}}}).state("home.campaign.new",{url:"/new",views:{"content@home":{templateUrl:"views/newcampaign.html",controller:"newCampaignController"}}}).state("home.campaign.details",{url:"/details/:campaignID",views:{"content@home":{templateUrl:"views/campaign-details.html",controller:"campaignControllerDetails"}}}).state("home.tasks",{url:"Tasks/:taskID",views:{content:{templateUrl:"views/tasks.html",controller:"taskController"}}}).state("home.admin",{url:"admin/",views:{content:{templateUrl:"views/admin.html",controller:"adminController"}}}).state("home.timeline",{url:"timeline/",views:{content:{templateUrl:"views/timeline.html",controller:"timelineController"}}}).state("home.roles",{url:"roles/",views:{content:{templateUrl:"views/roles.html",controller:"rolesController"}}})}]),[1,2,3,4]),o=function(){var e,t,a;return $traceurRuntime.generatorWrap(function(r){for(;;)switch(r.state){case 0:e=n[$traceurRuntime.toProperty(Symbol.iterator)](),r.state=4;break;case 4:r.state=(t=e.next()).done?-2:5;break;case 5:a=t.value,r.state=6;break;case 6:return r.state=2,a;case 2:r.maybeThrow(),r.state=4;break;default:return r.end()}},this)}();console.log("Res",o);for(var s,i="",l=o[$traceurRuntime.toProperty(Symbol.iterator)]();!(s=l.next()).done;){var c=s.value;i+=c,console.log("Acc",i)}var o=function(){var e,t,a;return $traceurRuntime.generatorWrap(function(r){for(;;)switch(r.state){case 0:e=n[$traceurRuntime.toProperty(Symbol.iterator)](),r.state=4;break;case 4:r.state=(t=e.next()).done?-2:5;break;case 5:a=t.value,r.state=6;break;case 6:return r.state=2,a;case 2:r.maybeThrow(),r.state=4;break;default:return r.end()}},this)}();console.log("Res next",o.next(),o.next()),e(1e3).then(function(){console.log("done")});var u=[2,4,6,8],p=(u.map(function(e){return e+1}),u.map(function(e,t){return e+t}));console.log("Nums",p);var m=function(e){this.make=e,this.currentSpeed=25};$traceurRuntime.createClass(m,{printCurrentSpeed:function(){console.log(this.make+" is going "+this.currentSpeed+" mph.")}},{});var g=function(e,t){$traceurRuntime.superCall(this,d.prototype,"constructor",[e]),this.topSpeed=t},d=g;$traceurRuntime.createClass(g,{goFast:function(){this.currentSpeed=this.topSpeed}},{},m);var h=new g("Mustang",150),f=new m("Prius",100);h.printCurrentSpeed(),h.goFast(),h.printCurrentSpeed(),f.printCurrentSpeed();var y=0;try{throw void 0}catch(v){for(v=0;10>v;v++)try{throw void 0}catch(k){k=v;try{y+=k,console.log("value of i in block: "+k)}finally{v=k}}}console.log("Is i defined here?: "+("undefined"!=typeof k));var w=[{city:"Seattle",note:"i'm gay",name:"Jesus"}],b=function(){for(var e,t=0,a=[],r=w[$traceurRuntime.toProperty(Symbol.iterator)]();!(e=r.next()).done;)try{throw void 0}catch(n){n=e.value,"Seattle"==n.city&&$traceurRuntime.setProperty(a,t++,{name:n.name,age:n.age})}return a}();console.log("RESULTS",w,b);var S=function(e,t){this.x=e,this.y=t};$traceurRuntime.createClass(S,{},{});var R=function(e,t,a){$traceurRuntime.superCall(this,C.prototype,"constructor",[e,t]),this.name=a,this.health_=100},C=R;$traceurRuntime.createClass(R,{attack:function(e){$traceurRuntime.superCall(this,C.prototype,"attack",[e])},get isAlive(){return this.health_>0},get health(){return this.health_},set health(e){if(0>e)throw new Error("Health must be non-negative.");this.health_=e}},{},S);var T=new R(5,1,"arrrg");return console.log("Monster",T.health),T.health=0,angular.module("uiRouterSample").controller("adminController",function(e,t,a,r){if(console.log("Welcome to the Admin Controller"),!t.credentials.admin){a.go("home");{r({title:"Forbidden - ",content:"We're calling the cops",placement:"top",type:"danger",show:!0,keyboard:!0,duration:3})}}}),angular.module("uiRouterSample").controller("campaignController",function(e,t,a,r){console.log("Welcome from campaign controller"),e.availableCampaigns=[];{var n=r.getCampaigns();n.then(function(t){console.log("Got...",t.data),e.availableCampaigns=t.data})}}),angular.module("uiRouterSample").controller("campaignControllerDetails",function(e,t,a,r){console.log("Welcome to details from campaign controller");var n=t.$stateParams.campaignID;e.campaignDetails={},e.campaignPending=!1;{var o=r.singleCampaign(n);o.then(function(t){console.log("got campaign...!",t.data),e.campaignDetails=t.data})}}),angular.module("uiRouterSample").factory("campaignFactory",function(e){return{queryResults:function(){return e.get("/api/campaigns")},singleCampaign:function(t){return console.log("Get campaign....#",t),e.get("http://10.1.1.118:8000/api/campaign/"+t)},thisSavedQuery:function(){return e.get("api/thisQuery")},getQueries:function(){return e.get("http://10.1.1.118:8000/api/Research/list")},singleQuery:function(t){return e.get("http://10.1.1.118:8000/api/Research/"+t)},convert:function(t){return e.post("http://10.1.1.118:8000/api/Campaign",$.param({QueryID:t}))},saveActivity:function(t,a){return e.post("http://10.1.1.118:8000/api/Campaign/"+t+"/Activity",$.param(a))},getUsers:function(){return e.get("http://10.1.1.118:8000/api/users")},getCampaigns:function(){return e.get("http://10.1.1.118:8000/api/campaign")}}}),angular.module("uiRouterSample").controller("newCampaignController",function(e,t,a,r,n){console.log("Welcome to NEW campaign controller"),e.campaignID,e.convert=function(){console.log("Converting..."),n.convert(1).then(function(t){console.log("DONE, campaign ID ",t.data.CampaignID),e.campaignID=t.data.CampaignID})},e.userList=[],n.getUsers().then(function(t){console.log("Got all users....",t),e.userList=t.data.UserList}).catch(function(){}),e.savedQueries=[],e.selectedQuery,n.getQueries().then(function(t){console.log("Got...",t),e.savedQueries=t.data}).catch(function(){}),e.campaignDetails,e.setBillGroup=function(){console.log("CHANGED",e.selectedQuery),n.singleQuery(e.selectedQuery.QueryID).then(function(t){console.log("Okay got this",t),e.campaignDetails=t.data,e.fetched=!0})},e.changeState=function(){a.go("home.campaign.details",{params:"1337"})},e.newActivity={},e.savedActivites=[],e.activityNo=0,e.selectedUser,e.saveActivity=function(){var t=5;e.newActivity.StartDateTime="1900-01-01",e.newActivity.CompletionDateTime="2014-06-20",e.newActivity.AssignedID=e.selectedUser.UserID,console.log("SAVING....",e.newActivity);var a=n.saveActivity(t,e.newActivity);a.catch(function(e){r({title:e.statusText.toString(),content:e.data.Message,placement:"top",type:"danger",show:!0,duration:3})}),a.then(function(){}),e.savedActivites.push(e.newActivity),e.activityNo++,e.newActivity={}}}),angular.module("uiRouterSample").controller("landingController",function(e,t,a,r){if(console.log("Landing Controller"),t.loggedIn||(console.log("Not logged in, redirect"),a.go("login")),e.dropdown=[{text:"New Campaign",click:'$state.go("home.campaign.new")'},{text:"Other Campaigns",click:'$state.go("home.campaign")'},{divider:!0},{text:"New Query",click:'$state.go("home.query")'}],e.inMarketing=!1,"Marketing"==t.credentials.group){e.inMarketing=!0;var n=t.credentials;e.allTasks=[];{var o=r.myTasks(n);o.then(function(t){console.log("Show tasks....",t),e.allTasks=t.data})}}window.setInterval(function(){var e=window.performance.getEntries();e=e.sort(function(e,t){return t.duration-e.duration}),t.metrics=e},500)}),angular.module("uiRouterSample").factory("Tasks",function(e){return{queryResults:function(){return e.get("/api/campaigns")},myTasks:function(t){return console.log("Factory TASKS getting myTasks..",t),e.post("/api/usertasks",t)},taskDetails:function(t){return console.log("Factory TASKS getting details..",t),e.post("/api/taskdetails",t)},allTasks:function(){return console.log("Factory tasks returning every task..."),e.get("/api/alltasks")},taskProspect:function(){return e.get("/api/randomProspect")}}}),angular.module("uiRouterSample").controller("loginController",function(e,t,a,r,n,o){console.log("Controller loaded"),t.loggedIn=t.loggedIn||!1,e.creds={},e.creds.userid=r.userid,e.loginSubmit=function(){console.log("EXISTING XKEY IS",o.defaults.headers.common[$traceurRuntime.toProperty("XKey")]),delete o.defaults.headers.common[$traceurRuntime.toProperty("XKey")];{var s=a.Cocks(e.creds);s.then(function(e){console.log("Then....",e.data),t.loggedIn=!0,t.$state.go("home"),t.credentials.username=e.data.userid,t.credentials.key=e.data.key,t.credentials.admin=e.admin,t.credentials.group=e.group,r.xkey=e.data.key,r.userid=e.data.userid,$traceurRuntime.setProperty(o.defaults.headers.common,"XKey",e.data.key)},function(){n({title:"Title",content:"err",placement:"top",type:"danger",show:!0})}),s.catch(function(e){n({title:e.message,content:e.data,placement:"top",type:"danger",show:!0});console.log("Never fire this error",e)})}},e.logOut=function(){t.loggedIn=!1}}),angular.module("uiRouterSample").factory("Privilege",function(e,t){return console.log("Factory loaded"),{Recipe:e("/recipes/:id",{id:"@id"}),Users:e("/users/:id",{id:"@id"}),Group:e("/groups/:id",{id:"@id"}),Login:e("http://10.1.1.118:8000/api/Auth",{userId:"@id"},{query:{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},isArray:!1}}),Example:e("api/users/:userId/privileges",{userId:"@id"},{query:{method:"GET",isArray:!1}}),Cocks:function(e,a){return console.log("POST DUDE",e,a),t({method:"POST",url:"http://10.1.1.118:8000/api/Auth",data:$.param(e),headers:{"Content-Type":"application/x-www-form-urlencoded"}})}}}),angular.module("uiRouterSample").controller("queryController",function(e,t,a,r,n,o,s,i){console.log("query Controller",r),e.resultsReturned=!1,e.results={},e.tableConfig={itemsPerPage:10,fillLastPage:!1,maxPages:5},e.queryName="",e.productList=["TriNet","ProfitGuard"],e.selectedProduct,e.queryList,e.selectedQuery,e.Clicking_the_table_now_performs_http=!1,e.QueryID,e.params,e.selectedStates=[],e.states=[{value:"Kansas",label:"Kansas"},{value:"AK",label:"Arkansas"},{value:"MO",label:"Missouri"},{value:"TX",label:"Texas"},{value:"NY",label:"New York"},{value:"California",label:"California"}],e.queryParams={State:[],Bill:"Yes"},e.saveObject={},o.getQueries().then(function(t){e.queryList=t.data}),e.findQuery=function(){e.resultsReturned=!1,o.singleQuery(e.selectedQuery.QueryID).then(function(t){e.params=$.deparam(t.data.ParamStr),e.results=t.data.rows,e.QueryID=t.data.QueryID,e.resultsReturned=!0,e.selectedStates=e.params.State,e.Clicking_the_table_now_performs_http=!0,e.saveObject.Name="LOADED FROM DROPDOWN -- query name is "+t.data.Name})},e.querySearch=function(){e.results={},e.resultsReturned=!1,console.log("New search...please wait..."),e.queryParams.State=e.selectedStates;{var t=o.queryResults(e.queryParams);t.then(function(t){e.results=t.data,e.resultsReturned=!0,n.search(e.queryParams)}).catch(function(e){401==e.status&&console.log("401 is handled by Interceptors")})}},e.whoa=function(){o.updateQueryName("1").then(function(){console.log("COMPLETE")})},e.DeleteProspect=function(t){e.results.forEach(function(a){return a.ProspectID==t?(a.Status=a.Status?0:1,e.Clicking_the_table_now_performs_http&&o.updateQueryStatus(e.QueryID,t,a.Status),!0):void 0})},e.saveTemplate=function(){if(!e.Clicking_the_table_now_performs_http){e.saveObject.rows=e.results;var t=n.search(),r=$.param(t);e.saveObject.ParamStr=r,e.saveObject.Product=1,o.saveQuery(e.saveObject).then(function(){a.go("home.campaign")}).catch(function(e){i({title:e.status.toString(),content:e.statusText,placement:"top",type:"danger",show:!0})})}},null!=r.State&&(e.selectedStates=[r.State],e.querySearch())}),angular.module("uiRouterSample").factory("queryFactory",function(e){return{queryResults:function(t){return console.log("Getting query with params ",t),e.get("http://10.1.1.118:8000/api/Research",{params:t})},removeQuery:function(){return e.put("")},deleteProspect:function(){return e.delete("/api/prospects",{params:{start:"5",end:"20"}})},saveQuery:function(t){return console.log("Save query Prospects ",t),e.post("http://10.1.1.118:8000/api/Research",t)},getQueries:function(){return e.get("http://10.1.1.118:8000/api/Research/list")},singleQuery:function(t){return e.get("http://10.1.1.118:8000/api/Research/"+t)},updateQueryName:function(t){return e.put("http://10.1.1.118:8000/api/Research/"+t,$.param({Name:"Angular"}))},updateQueryStatus:function(t,a,r){return e.put("http://10.1.1.118:8000/api/Research/"+t+"/"+a,$.param({Status:r}))}}}),angular.module("uiRouterSample").factory("rolesFactory",function(e){return{listRoles:function(){return e.get("http://10.1.1.118:8000/api/Roles")},getUsers:function(){return e.get("http://10.1.1.118:8000/api/users")},addRole:function(t,a){return e.post("http://10.1.1.118:8000/api/users/"+t+"/Roles/"+a)}}}),angular.module("uiRouterSample").controller("rolesController",function(e,t,a,r){console.log("Roles controller"),e.availableRoles,r.listRoles().then(function(t){console.log("Got roles...",t.data),e.availableRoles=t.data}),e.availableUsers,r.getUsers().then(function(t){console.log("Got users",t.data),e.availableUsers=t.data.UserList}),e.addRole=function(e,t){console.log(e,t),r.addRole(e,t).then(function(){console.log("Done")})}}),angular.module("uiRouterSample").controller("taskController",function(e,t,a,r){if(console.log("Task Controller",a),e.singleTask={},e.everyTask=[],e.workingProspect={},e.singleTaskBool=!1,e.everyTaskBool=!1,e.taskTypeBulk=!1,e.taskTypeSingle=!1,""!==a.params.taskID){console.log("Show specific task",a.params.taskID);{var n=r.taskDetails(a.params);n.then(function(t){console.log("Got single task",t),e.singleTask=t.data,e.singleTaskBool=!0,"bulk activity"==t.data.taskName.toLowerCase()?e.taskTypeBulk=!0:(e.taskTypeSingle=!0,r.taskProspect().then(function(t){console.log("My working prospect is...",t.data),e.workingProspect=t.data}))})}}else{console.log("Not enough params, just show all tasks?");{r.allTasks().then(function(t){console.log("Got everything! ",t.data),e.everyTask=t.data,e.everyTaskBool=!0})}}}),angular.module("uiRouterSample").controller("timelineController",function(e){console.log("TIMELINE"),e.myData=[{name:"AngularJS",count:300},{name:"D3.JS",count:150},{name:"jQuery",count:400},{name:"Backbone.js",count:300},{name:"Ember.js",count:100}]}),angular.module("uiRouterSample").directive("crD3Bars",[function(){return{restrict:"E",scope:{data:"="},link:function(e){e.render=function(){var e=[5,10,13,19,21,25,22,18,15,13,11,12,15,20,18,17,16,18,23,25];d3.select("barchart").selectAll("div").data(e).enter().append("div").attr("class","bar").style("height",function(e){var t=5*e;return t+"px"})},e.$watch("data",function(){e.render(e.data)},!0)}}}]),{get entries(){return t},get keys(){return a},get values(){return r}}}()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","sourcesContent":["var app = angular.module('uiRouterSample', [\n  'ui.router',\n  'ngAnimate',\n  // 'ngMockE2E',\n  'ngResource',\n  'ngCookies',\n  'mgcrea.ngStrap',\n  'ngSanitize',\n  'chieffancypants.loadingBar',\n  'angular-table',\n  'ngTagsInput'\n])\n\n\n.run(\n  [          '$rootScope', '$state', '$stateParams', '$cookies', \"$http\",\n    function ($rootScope,   $state,   $stateParams, $cookies, $http) {\n\n    $http.defaults.headers.common['XKey'] = $cookies.xkey;\n    $http.defaults.headers.put = {'Content-Type': 'application/x-www-form-urlencoded'};\n    $http.defaults.headers.post = {'Content-Type': 'application/x-www-form-urlencoded'};\n    $rootScope.$state = $state;\n    $rootScope.$stateParams = $stateParams;\n    $rootScope.loggedIn = true;\n    $rootScope.credentials = {\n      group: \"Undefined\",\n      username: $cookies.userid\n    };\n\n    // perform an API call to see if xkey is still valid or needs to be re-authed;\n    var testKey = $http({\n        method: 'GET',\n        url: 'http://10.1.1.118:8000/api/Research?State=MO&Product=123&Order=ProspectID',\n        // url: 'http://10.1.1.118:8000/api/Campaign',\n        headers : { 'Accept': 'application/json', 'XKey': $cookies.xkey}\n      })\n    testKey.success(function(data){\n      // key is valid, continue\n      // set key for all requests\n      // $http.defaults.headers.common['XKey'] = $cookies.xkey;\n      // console.log(\"SET KEY FOR EVERY REQUEST\")\n      // doesn't work...other requests are async\n      /*$state.go('home')*/\n    })\n    testKey.catch(function(data){\n      // key is invalid, route to Login\n      // $rootScope.loggedIn = false;\n      // $state.go('login')\n      // console.log(\"Fuck\")\n    })\n\n\n    }\n  ]\n)\n\n\n.config(\n  [          '$stateProvider', '$urlRouterProvider', '$httpProvider',\n    function ($stateProvider,   $urlRouterProvider, $httpProvider) {\n\n      /////////////////////////////\n      //    Auth Interceptor     //\n      /////////////////////////////\n\n    var interceptor = ['$location', '$q', '$injector', function($location, $q, $injector) {\n      function success(response) {\n          return response;\n      }\n      function error(response) {\n          if(response.status === 401) {\n            console.log(\"Interceptor 401\")\n            $injector.get('$state').transitionTo('login');\n            return $q.reject(response);\n          }\n          else {\n            // individual error handling\n            console.log(\"Interceptor error...we should write these to a DB\", response.statusText)\n            // TODO server should respond with detail error texts;\n            return $q.reject(response);\n          }\n      }\n      return function(promise) {\n          return promise.then(success, error);\n      }\n    }];\n\n    $httpProvider.responseInterceptors.push(interceptor);\n\n\n      /////////////////////////////\n      // Redirects and Otherwise //\n      /////////////////////////////\n\n      // Use $urlRouterProvider to configure any redirects (when) and invalid urls (otherwise).\n      $urlRouterProvider\n\n        // The `when` method says if the url is ever the 1st param, then redirect to the 2nd param\n        // Here we are just setting up some convenience urls.\n        .when('/c?id', '/contacts/:id')\n        .when('/user/:id', '/contacts/:id')\n\n        // If the url is ever invalid, e.g. '/asdf', then redirect to '/' aka the home state\n        .otherwise('/');\n\n\n      //////////////////////////\n      // State Configurations //\n      //////////////////////////\n\n      // Use $stateProvider to configure your states.\n      $stateProvider\n\n        .state('login', {\n          url: '/login',\n          controller: 'loginController',\n          templateUrl: 'views/Login.html'\n        })\n\n        //////////\n        // Home //\n        //////////\n\n        .state(\"home\", {\n\n          // Use a url of \"/\" to set a states as the \"index\".\n          url: \"/\",\n\n          // controller: 'landingController',\n          // templateUrl: 'views/notsure.html'\n          views: {\n\n              // So this one is targeting the unnamed view within the parent state's template.\n              '': {\n                templateUrl: 'views/notsure.html',\n                controller: 'landingController'\n              },\n\n              // This one is targeting the ui-view=\"hint\" within the unnamed root, aka index.html.\n              // This shows off how you could populate *any* view within *any* ancestor state.\n              'content@home': {\n                templateUrl: 'views/landing.html'\n              }\n            }\n\n        })\n\n        ///////////\n        // About //\n        ///////////\n\n        .state('home.about', {\n          url: 'about',\n          views: {\n            'content': {\n              template: '<br><br>This is about'\n            }\n          }\n\n          // Showing off how you could return a promise from templateProvider\n          // templateProvider: ['$timeout',\n          //   function (        $timeout) {\n          //     return $timeout(function () {\n          //       return '<p class=\"lead\">UI-Router Resources</p><ul>' +\n          //                '<li><a href=\"https://github.com/angular-ui/ui-router/tree/master/sample\">Source for this Sample</a></li>' +\n          //                '<li><a href=\"https://github.com/angular-ui/ui-router\">Github Main Page</a></li>' +\n          //                '<li><a href=\"https://github.com/angular-ui/ui-router#quick-start\">Quick Start</a></li>' +\n          //                '<li><a href=\"https://github.com/angular-ui/ui-router/wiki\">In-Depth Guide</a></li>' +\n          //                '<li><a href=\"https://github.com/angular-ui/ui-router/wiki/Quick-Reference\">API Reference</a></li>' +\n          //              '</ul>';\n          //     }, 100);\n          //   }]\n        })\n\n        .state('home.query', {\n          url: 'query/new/?State&Age&Product&Distance',\n          reloadOnSearch: false,\n          views: {\n            'content': {\n              templateUrl: 'views/newQuery.html',\n              controller: \"queryController\",\n            }\n          }\n        })\n\n        // .state('home.query.results', {\n        //   url: '/results/?myParam1&myParam2'\n        // })\n\n        .state('home.campaign', {\n          url: 'Campaigns',\n          views: {\n            'content': {\n              templateUrl: 'views/campaigns.html',\n              controller: \"campaignController\"\n            }\n          }\n        })\n\n        .state('home.campaign.new', {\n          url: '/new',\n          views: {\n            'content@home': {\n              templateUrl: 'views/newcampaign.html',\n              controller: \"newCampaignController\"\n            }\n          }\n        })\n\n        .state('home.campaign.details', {\n          url: '/details/:campaignID',\n          views: {\n            'content@home': {\n              templateUrl: 'views/campaign-details.html',\n              controller: \"campaignControllerDetails\"\n            }\n          }\n        })\n\n        .state('home.tasks', {\n          url: 'Tasks/:taskID',\n          views: {\n            'content': {\n              templateUrl: 'views/tasks.html',\n              controller: \"taskController\"\n            }\n          }\n        })\n\n        .state('home.admin', {\n          url: 'admin/',\n          views: {\n            'content': {\n              templateUrl: 'views/admin.html',\n              controller: \"adminController\"\n            }\n          }\n        })\n\n        .state('home.timeline', {\n          url: 'timeline/',\n          views: {\n            'content': {\n              templateUrl: 'views/timeline.html',\n              controller: \"timelineController\"\n            }\n          }\n        })\n\n        .state('home.roles', {\n          url: 'roles/',\n          views: {\n            'content': {\n              templateUrl: 'views/roles.html',\n              controller: \"rolesController\"\n            }\n          }\n        })\n\n\n    }\n  ]\n);\n\n// import {values} from './generators';\n\n\n// for (let todo of values(this.todos)) {\n//   console.log()\n// }\n\n\n// import {values} from './generators';\n\n\nvar list = [1, 2, 3, 4];\nvar res = (for (x of list) x);\n\nconsole.log(\"Res\", res)\nvar acc = '';\nfor (var x of res) {\n  acc += x;\n  console.log(\"Acc\", acc)\n}\n\nvar res = (for (x of list) x);\nconsole.log(\"Res next\", res.next(), res.next())\n\n\nfunction timeout(ms) {\n  return new Promise((resolve) => {\n    setTimeout(resolve, ms);\n  });\n}\ntimeout(1000).then(() => {\n  console.log('done');\n});\n\n\nvar evens = [2,4,6,8];\nvar odds = evens.map(v => v + 1);\nvar nums = evens.map((v, i) => v + i);\n\nconsole.log(\"Nums\", nums)\n\n//let i = 9;\n\n//console.log(i)\n\n// var huge = [1,2,3, 4]\n\n\n// var huge = []\n// var myobj = {name: \"jon\", age: \"25\"}\n// huge.push(myobj)\n//\n// for (var n of huge) {\n//   console.log(\"Huge\", n)\n// }\n//\n// for (name of Object.keys(myobj))\n//     alert(name + \": \" + myobj[name]);\n\nvar melter = (obj) =>{\n  var temp = obj\n  temp.melted = \"melted\"\n  // return obj.melted = \"melted\"\n  return temp;\n}\nlet empty = () => {};\n\n\nclass Car {\n    constructor(make) { //constructors!\n      this.make = make;\n      this.currentSpeed = 25;\n    }\n\n    printCurrentSpeed(){\n          console.log(this.make + ' is going ' + this.currentSpeed + ' mph.');\n    }\n}\n\nclass RaceCar extends Car { //inheritance\n    constructor(make, topSpeed) {\n        super(make); //call the parent constructor with super\n        this.topSpeed = topSpeed;\n    }\n\n    goFast(){\n          this.currentSpeed = this.topSpeed;\n    }\n}\n\nlet stang = new RaceCar('Mustang', 150);\nlet prius = new Car('Prius', 100)\n\nstang.printCurrentSpeed();\nstang.goFast();\nstang.printCurrentSpeed();\n\nprius.printCurrentSpeed();\n\n\nvar num = 0; //globally scoped\n\nfor (let i = 0; i < 10; i++) { //i is block scoped\n  num += i;\n  console.log('value of i in block: ' + i);\n}\n\nconsole.log('Is i defined here?: ' + (typeof i !== 'undefined')); //Is i defined here?: false\n\n\n// ARRAY COMPREHENSION\nvar customers = [\n{city: \"Seattle\", note: \"i'm gay\", name: \"Jesus\"}\n]\n\nvar results = [\nfor(c of customers)\n  if (c.city == \"Seattle\")\n    { name: c.name, age: c.age }\n]\n\nconsole.log(\"RESULTS\", customers, results)\n\n//Classes Again;\nclass Character {\n  constructor(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n}\nclass Monster extends Character {\n  constructor(x, y, name) {\n    super(x, y);\n    this.name = name;\n    this.health_ = 100;\n  }\n\n  attack(character) {\n    super.attack(character);\n    // Can also be written as:\n    // super(character);\n  }\n\n  get isAlive() { return this.health_ > 0; }\n  get health() { return this.health_; }\n  set health(value) {\n    if (value < 0) throw new Error('Health must be non-negative.');\n    this.health_ = value;\n  }\n}\n\nvar myMonster = new Monster(5,1, 'arrrg');\n\nconsole.log(\"Monster\", myMonster.health)\n\nmyMonster.health = 0;\n\n'use strict';\n/*jshint esnext: true */\n\n// This module defines several useful generators,\n// not all of which are used in the Todo app.\n\n// A generator for iterating over the key/value pairs in an object.\nexport function* entries(obj) {\n  for (let key of Object.keys(obj)) {\n    yield [key, obj[key]];\n  }\n}\n\n// A generator for iterating over the keys in an object.\nexport function* keys(obj) {\n  for (let key of Object.keys(obj)) {\n    yield key;\n  }\n}\n\n// A generator that yields the first n values of an iterator.\nfunction* take(iterator, n) {\n  while (n > 0) {\n    yield iterator.next();\n    n--;\n  }\n}\n\n// A generator for iterating over the values in an object.\nexport function* values(obj) {\n  for (let key of Object.keys(obj)) {\n    yield obj[key];\n  }\n}\n\nangular.module('uiRouterSample')\n.controller('adminController', function($scope, $rootScope, $state, $alert) {\n  console.log(\"Welcome to the Admin Controller\")\n  if(!$rootScope.credentials.admin){\n    $state.go(\"home\")\n    var myAlert = $alert({title: \"Forbidden - \",\n        content: \"We're calling the cops\",\n        placement: 'top',\n        type: 'danger',\n        show: true,\n        keyboard: true,\n        duration: 3\n        // container: \"body\"\n      });\n  }\n\n})\n\nangular.module('uiRouterSample')\n.controller('campaignController', function($scope, $rootScope, $state, campaignFactory) {\n  console.log(\"Welcome from campaign controller\")\n  $scope.availableCampaigns = []\n  var fetchAll = campaignFactory.getCampaigns();\n  var displayResults = fetchAll.then(function(data){\n    console.log(\"Got...\", data.data)\n    $scope.availableCampaigns = data.data\n  })\n\n})\n\nangular.module('uiRouterSample')\n.controller('campaignControllerDetails', function($scope, $rootScope, $state, campaignFactory, $alert) {\n  console.log(\"Welcome to details from campaign controller\")\n\n  var campaignID = $rootScope.$stateParams.campaignID;\n\n  $scope.campaignDetails = {}\n\n  //campaign is at pending @ Template @ Beginning, not pending\n  //Is this always true though? What if it's at Pending to begin\n  $scope.campaignPending = false;\n\n  var getCampaign = campaignFactory.singleCampaign(campaignID)\n  var displayCampaign = getCampaign.then(function(data){\n    console.log(\"got campaign...!\", data.data)\n    $scope.campaignDetails = data.data\n  })\n  // var invalidCampaign = getCampaign.catch(function(err){\n  //   var myAlert = $alert({title: err.statusText,\n  //       content: err.data,\n  //       placement: 'top',\n  //       type: 'danger',\n  //       show: true\n  //     });\n  // })\n  //\n  // $scope.nextStatus = function(cID){\n  //   console.log(\"Taking this campaign to the next status...!\", cID)\n  //   //if we already called the DB, we can just pass the data along.\n  //   //in fact why don't we just hide the old view\n  //   $scope.campaignPending = true;\n  // }\n  //\n  // $scope.savetoPending = function(cID){\n  //   console.log(\"Saving this template to PENDING \", cID)\n  //   $state.go('home')\n  // }\n  //\n  // $scope.todoText = \"\"\n  // $scope.activities = []\n  //\n  // $scope.activities.push(\"Example Activity 1 -- Assigned to Marketing\")\n  // $scope.activities.push(\"Example Activity 2 -- Assigned to Rick\")\n  //\n  // $scope.addActivity = function(){\n  //   console.log(\"Adding activity \", $scope.todoText)\n  //   $scope.activities.push($scope.todoText)\n  //   $scope.todoText = \"\"\n  // }\n\n})\n\nangular.module('uiRouterSample')\n.factory('campaignFactory',\n function ($http) {\n    return {\n        queryResults:function (url, callback) {\n            return $http.get('/api/campaigns')\n        },\n        singleCampaign:function (paramID) {\n          console.log(\"Get campaign....#\", paramID)\n          return $http.get('http://10.1.1.118:8000/api/campaign/' + paramID)\n        },\n        thisSavedQuery: function(data){\n          //will have to pass which saved query in the future\n          return $http.get('api/thisQuery')\n        },\n        getQueries: function(){\n          return $http.get('http://10.1.1.118:8000/api/Research/list')\n        },\n        singleQuery: function(queryID){\n          return $http.get('http://10.1.1.118:8000/api/Research/' + queryID);\n        },\n        convert: function(queryID){\n          return $http.post('http://10.1.1.118:8000/api/Campaign', $.param( { QueryID : queryID } ) );\n        },\n        saveActivity: function(campaignID, activity){\n          return $http.post('http://10.1.1.118:8000/api/Campaign/'+campaignID+'/Activity', $.param(activity) );\n        },\n        getUsers:function(){\n          return $http.get('http://10.1.1.118:8000/api/users')\n        },\n        getCampaigns: function(){\n          return $http.get('http://10.1.1.118:8000/api/campaign')\n        }\n    };\n  }\n);\n\nangular.module('uiRouterSample')\n.controller('newCampaignController', function($scope, $rootScope, $state, $alert, campaignFactory) {\n  console.log(\"Welcome to NEW campaign controller\")\n\n  $scope.campaignID;\n  $scope.convert = function(){\n    console.log(\"Converting...\");\n    campaignFactory.convert(1).then(function(data){\n      console.log(\"DONE, campaign ID \", data.data.CampaignID)\n      $scope.campaignID = data.data.CampaignID;\n    })\n  };\n\n  $scope.userList = [];\n  campaignFactory.getUsers().then(function(data){\n    console.log(\"Got all users....\", data)\n    $scope.userList = data.data.UserList;\n  }).catch(function(err){\n    // do something\n  })\n\n  $scope.savedQueries = [];\n  $scope.selectedQuery;\n  campaignFactory.getQueries().then(function(data){\n    console.log(\"Got...\", data)\n    $scope.savedQueries = data.data\n  }).catch(function(err){\n    // do something\n  })\n\n  $scope.campaignDetails;\n  $scope.setBillGroup = (data) => {\n    // $scope.savedQueryData = \"\";\n    console.log(\"CHANGED\", $scope.selectedQuery)\n    campaignFactory.singleQuery($scope.selectedQuery.QueryID).then(function(data){\n      console.log(\"Okay got this\", data)\n      $scope.campaignDetails = data.data;\n      $scope.fetched = true;\n    })\n  };\n\n  $scope.changeState = (bleh) => {\n    $state.go('home.campaign.details', {params:'1337'})\n  };\n\n  $scope.newActivity = {};\n  $scope.savedActivites = [];\n  $scope.activityNo = 0;\n  $scope.selectedUser;\n  $scope.saveActivity = function(){\n    var campaignID = 5;\n    $scope.newActivity.StartDateTime = \"1900-01-01\";\n    $scope.newActivity.CompletionDateTime = '2014-06-20';\n    $scope.newActivity.AssignedID = $scope.selectedUser.UserID;\n    console.log(\"SAVING....\", $scope.newActivity);\n    var save = campaignFactory.saveActivity(campaignID, $scope.newActivity);\n    save.catch(function(err){\n      var myAlert = $alert({title: err.statusText.toString(),\n          content: err.data.Message,\n          placement: 'top',\n          type: 'danger',\n          show: true,\n          duration: 3\n        });\n    });\n    save.then(function(result){\n      // do something;\n    })\n    $scope.savedActivites.push($scope.newActivity);\n    $scope.activityNo++;\n    $scope.newActivity = {};\n  };\n\n})\n\nangular.module('uiRouterSample')\n.controller('landingController', function($scope, $rootScope, $state, Tasks) {\n  console.log(\"Landing Controller\")\n  // Passed in Tasks factory...we'll handle it all here for now\n\n  if(!$rootScope.loggedIn){\n    console.log(\"Not logged in, redirect\")\n    $state.go(\"login\");\n  }\n\n  $scope.dropdown = [\n  {\n    \"text\": \"New Campaign\",\n    \"click\": '$state.go(\"home.campaign.new\")'\n  },\n  {\n    \"text\": \"Other Campaigns\",\n    \"click\": '$state.go(\"home.campaign\")'\n  },\n  {\n    \"divider\": true\n  },\n  {\n    \"text\": \"New Query\",\n    \"click\": '$state.go(\"home.query\")'\n  }\n\n];\n\n\n$scope.inMarketing = false\n\n\nif($rootScope.credentials.group == \"Marketing\"){\n  $scope.inMarketing = true;\n\n  // determined their group, rendered view, now to fetch tasks.\n  // do we want to do this in the landing controller?\n  // or a Tasks controller? With a tasks view?\n  var thisUsersGroup = $rootScope.credentials\n\n  $scope.allTasks = []\n  var fetch = Tasks.myTasks(thisUsersGroup);\n  var showTasks = fetch.then(function(data){\n    console.log(\"Show tasks....\", data)\n    $scope.allTasks = data.data\n  })\n\n}\n\n\n// $rootScope.$on('$locationChangeStart', function(){\n//   var entries = window.performance.getEntries();\n//\n//       entries = entries.sort( function( a, b ) {\n//           return b.duration - a.duration;\n//       } );\n//\n//       $rootScope.metrics = entries;\n//       // console.log(\"ENTRIES\", entries[0])\n//       // console.table(\n//       //     entries, [ 'name', 'duration' ]\n//       // );\n//\n//     })\n\nwindow.setInterval(function() {\n    var entries = window.performance.getEntries();\n\n        entries = entries.sort( function( a, b ) {\n            return b.duration - a.duration;\n        } );\n\n        $rootScope.metrics = entries;\n}, 500);\n\n\n\n\n})\n\n\n// $rootScope.$on('$stateChangeStart', function(){\n//\n// })\n\nangular.module('uiRouterSample')\n.factory('Tasks',\n function ($http) {\n    return {\n        queryResults:function (url, callback) {\n            return $http.get('/api/campaigns')\n        },\n        myTasks:function (data) {\n            console.log(\"Factory TASKS getting myTasks..\", data)\n            return $http.post('/api/usertasks', data)\n        },\n        taskDetails:function (data) {\n            console.log(\"Factory TASKS getting details..\", data)\n            return $http.post('/api/taskdetails', data)\n        },\n        allTasks: function(){\n          console.log(\"Factory tasks returning every task...\")\n          return $http.get('/api/alltasks')\n        },\n        taskProspect: function(){\n          // this would be a post with like, taskID == prospect.taskID\n          return $http.get('/api/randomProspect')\n        }\n    };\n  });\n\nangular.module('uiRouterSample')\n.controller('loginController', function($scope, $rootScope, Privilege, $cookies, $alert, $http) {\n  console.log(\"Controller loaded\")\n  $rootScope.loggedIn = $rootScope.loggedIn || false;\n  $scope.creds = {};\n  $scope.creds.userid = $cookies.userid;\n  // $rootScope.credentials = {}\n  // decided to define this in app.run\n\n  $scope.loginSubmit = function(){\n    console.log(\"EXISTING XKEY IS\", $http.defaults.headers.common['XKey'])\n    delete $http.defaults.headers.common['XKey'];\n    var test = Privilege.Cocks($scope.creds)\n    var test2 = test.then(function(data){\n      // handle success\n      console.log(\"Then....\", data.data)\n      $rootScope.loggedIn = true;\n      $rootScope.$state.go(\"home\");\n      $rootScope.credentials.username = data.data.userid;\n      $rootScope.credentials.key = data.data.key;\n      $rootScope.credentials.admin = data.admin;\n      $rootScope.credentials.group = data.group;\n      $cookies.xkey = data.data.key;\n      $cookies.userid = data.data.userid;\n      $http.defaults.headers.common['XKey'] = data.data.key;\n    },\n    function(data){\n      // handle error\n      var myAlert = $alert({title: \"Title\",\n          content: \"err\",\n          placement: 'top',\n          type: 'danger',\n          show: true\n        });\n  })\n    var catchError = test.catch(function(err){\n      var myAlert = $alert({title: err.message,\n          content: err.data,\n          placement: 'top',\n          type: 'danger',\n          show: true\n        });\n      console.log(\"Never fire this error\", err)\n    })\n  }\n\n  $scope.logOut = function(){\n    $rootScope.loggedIn = false;\n  }\n\n});\n\nangular.module('uiRouterSample')\n.factory('Privilege', function ($resource, $http, $q) {\n  console.log(\"Factory loaded\")\n        return {\n          Recipe:  $resource('/recipes/:id', {id: '@id'}),\n          Users:   $resource('/users/:id', {id: '@id'}),\n          Group:   $resource('/groups/:id', {id: '@id'}),\n          Login:   $resource('http://10.1.1.118:8000/api/Auth', {userId: '@id'},{\n              'query':{\n                method:'POST',\n                headers : { 'Content-Type': 'application/x-www-form-urlencoded' },\n                isArray:false\n              }\n            }),\n          Example: $resource('api/users/:userId/privileges', {userId: '@id'},{\n              'query':{\n                method:'GET', isArray:false\n              }\n            }),\n          Cocks: function(alpha, beta){\n          let local = \"blargh gargh\";\n          console.log(\"POST DUDE\", alpha, beta)\n            return $http({\n                method: 'POST',\n                url: 'http://10.1.1.118:8000/api/Auth',\n                // data: 'applicationId=3',\n                data: $.param(alpha),\n                // data: 'test2=durp',\n                // data: JSON.stringify(alpha),\n                // params: local,\n                headers : { 'Content-Type': 'application/x-www-form-urlencoded' }\n            })\n          }\n        }\n});\n\nangular.module('uiRouterSample')\n.controller('queryController', function($scope, $rootScope, $state, $stateParams, $location, queryFactory, $q, $alert) {\n  console.log(\"query Controller\", $stateParams)\n  $scope.resultsReturned = false;\n  $scope.results = {};\n  $scope.tableConfig = {\n    itemsPerPage: 10,\n    fillLastPage: false,\n    maxPages: 5\n  }\n  $scope.queryName = \"\";\n  $scope.productList = [\n    \"TriNet\",\n    \"ProfitGuard\"\n  ]\n  $scope.selectedProduct;\n  $scope.queryList;\n  $scope.selectedQuery;\n  $scope.Clicking_the_table_now_performs_http = false;\n  $scope.QueryID;\n  $scope.params;\n  $scope.selectedStates = [];\n  $scope.states = [\n    {value: 'Kansas', label: 'Kansas'},\n    {value: 'AK', label: 'Arkansas'},\n    {value: 'MO', label: 'Missouri'},\n    {value: 'TX', label: 'Texas'},\n    {value: 'NY', label: 'New York'},\n    {value: 'California', label: 'California'},\n  ];\n  $scope.queryParams = {\n    State: [],\n    Bill: \"Yes\"\n  }\n  // ng-model\n  $scope.saveObject = {};\n\n  // populate query list;\n  queryFactory.getQueries().then(data => {\n    $scope.queryList = data.data\n  })\n\n\n  $scope.findQuery = function(){\n    $scope.resultsReturned = false;\n    // console.log(\"Erp\", $scope.selectedQuery)\n    queryFactory.singleQuery( $scope.selectedQuery.QueryID ).then(data => {\n      // console.log(\"so the user wants to see...\", data.data);\n      $scope.params = $.deparam(data.data.ParamStr)\n      $scope.results = data.data.rows;\n      $scope.QueryID = data.data.QueryID;\n      $scope.resultsReturned = true;\n      $scope.selectedStates = $scope.params.State;\n      $scope.Clicking_the_table_now_performs_http = true;\n      $scope.saveObject.Name = \"LOADED FROM DROPDOWN -- query name is \" + data.data.Name ;\n    })\n  }\n\n\n  // $scope.selectedState = '';\n\n  $scope.querySearch = function(){\n    // clearing old results\n    $scope.results = {};\n    $scope.resultsReturned = false;\n    console.log(\"New search...please wait...\")\n    // We need to set each variable when loaded.\n    $scope.queryParams.State = $scope.selectedStates\n    var submit = queryFactory.queryResults($scope.queryParams);\n    var process = submit.then(data => {\n      // console.log(\"Got it...\", data.data)\n      $scope.results = data.data;\n      $scope.resultsReturned = true;\n      $location.search($scope.queryParams)\n    }).catch(function(err){\n      if(err.status == 401)\n      // unauthorized\n      // $state.go('login');\n      console.log(\"401 is handled by Interceptors\")\n    })\n  }\n\n  $scope.whoa = function(){\n    // console.log(\"Whoa\")\n    queryFactory.updateQueryName(\"1\").then(data =>{\n      console.log(\"COMPLETE\")\n    })\n  }\n\n\n  $scope.DeleteProspect = function(id){\n      $scope.results.forEach((a,b) => {\n        if(a.ProspectID == id){\n          a.Status ? a.Status = 0 : a.Status = 1;\n          if($scope.Clicking_the_table_now_performs_http){\n            queryFactory.updateQueryStatus($scope.QueryID, id, a.Status);\n          }\n          return true;\n        }\n      })\n  }\n\n  $scope.saveTemplate = function(){\n    if($scope.Clicking_the_table_now_performs_http){\n      return;\n    }\n    // send whole list of Prospects returned from search\n    // except those flagged not to be a part of the campaign\n    $scope.saveObject.rows = $scope.results;\n    var params = $location.search();\n    var mod = $.param(params);\n    $scope.saveObject.ParamStr = mod;\n    $scope.saveObject.Product = 1;\n    // var saveQuery = queryFactory.saveQuery($scope.saveObject);\n    //$state.go('home.campaign')\n    // var gotoCampaign = saveQuery.then(function(res){\n    //   $state.go('home.campaign')\n    // })\n    queryFactory.saveQuery($scope.saveObject).then(res =>{\n      $state.go('home.campaign')\n    }).catch(err =>{\n      // console.log(err)\n      var myAlert = $alert({title: err.status.toString(),\n          content: err.statusText,\n          placement: 'top',\n          type: 'danger',\n          show: true\n        });\n    })\n  }\n\n  // checked on load;\n  if($stateParams.State != null){\n    // We need to read the URL and set each $scope variable\n    $scope.selectedStates = [$stateParams.State]\n    $scope.querySearch();\n  }\n\n\n\n\n})\n\nangular.module('uiRouterSample')\n.factory('queryFactory',\n// now Research Factory\n function ($http) {\n    return {\n        queryResults:function (url, callback) {\n          console.log(\"Getting query with params \", url)\n          return $http.get('http://10.1.1.118:8000/api/Research', {params: url } )\n        },\n        removeQuery: function(rowID){\n          return $http.put('')\n        },\n        deleteProspect: function(id){\n          return $http.delete('/api/prospects', {params: {'start': '5', 'end': '20'} } )\n        },\n        saveQuery: function(prospects){\n          console.log(\"Save query Prospects \", prospects)\n          return $http.post('http://10.1.1.118:8000/api/Research', prospects )\n        },\n        getQueries: function(){\n          return $http.get('http://10.1.1.118:8000/api/Research/list')\n        },\n        singleQuery: function(queryID){\n          // return $http.get('/api/query/'+ queryID)\n          // ES6 Template Strings\n          // return $http.get(`/api/query/${queryID}`)\n          return $http.get('http://10.1.1.118:8000/api/Research/' + queryID);\n        },\n        updateQueryName: function(queryID){\n          return $http.put('http://10.1.1.118:8000/api/Research/' + queryID, $.param({'Name': 'Angular'}) )\n        },\n        updateQueryStatus: function(QueryID, ProspectID, status){\n          return $http.put('http://10.1.1.118:8000/api/Research/' + QueryID + '/' + ProspectID, $.param({'Status': status}) )\n        }\n    };\n  }\n);\n\nangular.module('uiRouterSample')\n.factory('rolesFactory',\n// now Research Factory\n function ($http) {\n    return {\n        listRoles:function () {\n          return $http.get('http://10.1.1.118:8000/api/Roles' )\n        },\n        getUsers:function(){\n          return $http.get('http://10.1.1.118:8000/api/users')\n        },\n        addRole:function(user, roleID){\n          return $http.post('http://10.1.1.118:8000/api/users/'+user+'/Roles/'+roleID)\n        }\n    };\n  }\n);\n\nangular.module('uiRouterSample')\n.controller('rolesController', function($scope, $rootScope, $state, rolesFactory) {\n  console.log(\"Roles controller\")\n\n  $scope.availableRoles;\n  rolesFactory.listRoles().then(function(data){\n    console.log(\"Got roles...\", data.data)\n    $scope.availableRoles = data.data;\n  });\n\n  $scope.availableUsers;\n  rolesFactory.getUsers().then(function(data){\n    console.log(\"Got users\", data.data)\n    $scope.availableUsers = data.data.UserList\n  })\n\n\n  $scope.addRole = function(name, roleID){\n    console.log(name, roleID)\n    rolesFactory.addRole(name, roleID).then(function(data){\n      console.log(\"Done\")\n    })\n  }\n\n})\n\nangular.module('uiRouterSample')\n.controller('taskController', function($scope, $rootScope, $state, Tasks) {\n  console.log(\"Task Controller\", $state)\n\n  $scope.singleTask = {};\n  $scope.everyTask = [];\n  $scope.workingProspect = {};\n  $scope.singleTaskBool = false;\n  $scope.everyTaskBool = false;\n  $scope.taskTypeBulk = false;\n  $scope.taskTypeSingle = false;\n\n  if($state.params.taskID !== \"\"){\n    console.log(\"Show specific task\", $state.params.taskID)\n    // We hit the DB with the taskID and return the Task\n    // Also, from the front page, could we pass an object?\n    // And check if it exists before retripping to the DB?\n    var getSingleTask = Tasks.taskDetails($state.params);\n    var displaySingleTask = getSingleTask.then(function(data){\n      console.log(\"Got single task\", data)\n      $scope.singleTask = data.data\n      $scope.singleTaskBool = true\n      if(data.data.taskName.toLowerCase() == \"bulk activity\"){\n        $scope.taskTypeBulk = true;\n      }else{\n        $scope.taskTypeSingle = true;\n        // Now we need to get that one prospect they're working\n        // this is done by server magic\n        // presumably we pass a taskID\n        Tasks.taskProspect().then(function(data){\n          console.log(\"My working prospect is...\", data.data)\n          $scope.workingProspect = data.data;\n        })\n      }\n    })\n  }else{\n    console.log(\"Not enough params, just show all tasks?\")\n    var everyTask = Tasks.allTasks().then(function(data){\n      console.log(\"Got everything! \", data.data)\n      $scope.everyTask = data.data\n      $scope.everyTaskBool = true;\n    })\n  }\n\n\n})\n\n// SEE LANDING FACTORY.JS\n\nangular.module('uiRouterSample')\n.controller('timelineController', function($scope, $rootScope, $state, Tasks) {\n  console.log(\"TIMELINE\")\n\n$scope.myData = [\n    {name: 'AngularJS', count: 300},\n    {name: 'D3.JS', count: 150},\n    {name: 'jQuery', count: 400},\n    {name: 'Backbone.js', count: 300},\n    {name: 'Ember.js', count: 100}\n];\n\n\n})\n\nangular.module('uiRouterSample')\n.directive( 'crD3Bars', [\n  function () {\n    return {\n      restrict: 'E',\n      scope: {\n        data: '='\n      },\n      link: function (scope, element) {\n        // var margin = {top: 20, right: 20, bottom: 30, left: 40},\n        //   width = 480 - margin.left - margin.right,\n        //   height = 360 - margin.top - margin.bottom;\n        // var svg = d3.select(element[0])\n        //   .append(\"svg\")\n        //   .attr('width', width + margin.left + margin.right)\n        //   .attr('height', height + margin.top + margin.bottom)\n        //   .append(\"g\")\n        //     .attr(\"transform\", \"translate(\" + margin.left + \",\" + margin.top + \")\");\n        //\n        // var x = d3.scale.ordinal().rangeRoundBands([0, width], .1);\n        // var y = d3.scale.linear().range([height, 0]);\n        //\n        // var xAxis = d3.svg.axis()\n        //     .scale(x)\n        //     .orient(\"bottom\");\n        //\n        // var yAxis = d3.svg.axis()\n        //     .scale(y)\n        //     .orient(\"left\")\n        //     .ticks(10);\n\n        //Render graph based on 'data'\n        scope.render = function(data) {\n          var dataset = [ 5, 10, 13, 19, 21, 25, 22, 18, 15, 13,\n                11, 12, 15, 20, 18, 17, 16, 18, 23, 25 ];\n\n            d3.select(\"barchart\").selectAll(\"div\")\n                .data(dataset)\n                .enter()\n                .append(\"div\")\n                .attr(\"class\", \"bar\")\n                .style(\"height\", function(d) {\n                    var barHeight = d * 5;\n                    return barHeight + \"px\";\n                });\n        };\n\n         //Watch 'data' and run scope.render(newVal) whenever it changes\n         //Use true for 'objectEquality' property so comparisons are done on equality and not reference\n          scope.$watch('data', function(){\n              scope.render(scope.data);\n          }, true);\n        }\n    };\n  }\n]);\n","var __moduleName = $__placeholder__0;","$traceurRuntime.setProperty($__placeholder__0,\n          $__placeholder__1, $__placeholder__2)","return $__placeholder__0(\n            $__placeholder__1,\n            this);","$traceurRuntime.generatorWrap","function($ctx) {\n      while (true) $__placeholder__0\n    }","\n        for (var $__placeholder__0 =\n                 $__placeholder__1[Symbol.iterator](),\n                 $__placeholder__2;\n             !($__placeholder__3 = $__placeholder__4.next()).done; ) {\n          $__placeholder__5;\n          $__placeholder__6;\n        }","$__placeholder__0[$traceurRuntime.toProperty($__placeholder__1)]","$ctx.state = ($__placeholder__0) ? $__placeholder__1 : $__placeholder__2;\n        break","return $__placeholder__0","$ctx.maybeThrow()","return $ctx.end()","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2)","$traceurRuntime.superCall($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                   $__placeholder__3)","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","var $__placeholder__0 = 0, $__placeholder__1 = [];","$__placeholder__0[$__placeholder__1++] = $__placeholder__2;","return $__placeholder__0;","$ctx.pushTry(\n            $__placeholder__0,\n            $__placeholder__1);","$ctx.popTry();","\n              $ctx.popTry();\n              $__placeholder__0 = $ctx.storedException;","return $__placeholder__0","get $__placeholder__0() { return $__placeholder__1; }"]}